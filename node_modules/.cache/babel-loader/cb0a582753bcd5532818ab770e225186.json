{"ast":null,"code":"var _jsxFileName = \"/home/mani/projetos/hybrid-fib/src/pages/UpdatePage.tsx\";\nimport React, { useContext } from \"react\";\nimport { IonPage, IonHeader, IonToolbar, IonTitle, IonContent, IonButtons, IonBackButton } from \"@ionic/react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { AppContext } from \"../contexts/AppContext\";\nimport NameSetter from \"../components/NameSetter\";\n\nconst UpdatePage = () => {\n  const params = useParams();\n\n  if (params.idx === undefined) {\n    throw new Error(\"cade o indice\");\n  }\n\n  const idx = parseInt(params.idx);\n  const [appData, dispatchAppData] = useContext(AppContext);\n  const initialName = appData.names[idx];\n  const history = useHistory();\n\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  return React.createElement(IonPage, {\n    id: \"update\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(IonHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(IonButtons, {\n    slot: \"start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(IonBackButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(IonTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Atualizar\"))), React.createElement(IonContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(NameSetter, {\n    initialValue: initialName,\n    placeholder: \"Mude o nome\",\n    buttonTitle: \"Atualizar\",\n    onNameSet: name => {\n      dispatchAppData({\n        action: {\n          type: \"update\",\n          at: idx,\n          to: name\n        }\n      });\n      handleBack();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })));\n};\n\nexport default UpdatePage;","map":{"version":3,"sources":["/home/mani/projetos/hybrid-fib/src/pages/UpdatePage.tsx"],"names":["React","useContext","IonPage","IonHeader","IonToolbar","IonTitle","IonContent","IonButtons","IonBackButton","useHistory","useParams","AppContext","NameSetter","UpdatePage","params","idx","undefined","Error","parseInt","appData","dispatchAppData","initialName","names","history","handleBack","goBack","name","action","type","at","to"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SACEC,OADF,EAEEC,SAFF,EAGEC,UAHF,EAIEC,QAJF,EAKEC,UALF,EAMEC,UANF,EAOEC,aAPF,QAQO,cARP;AASA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,cAAtC;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAMA,MAAMC,UAAoB,GAAG,MAAM;AACjC,QAAMC,MAAoB,GAAGJ,SAAS,EAAtC;;AACA,MAAII,MAAM,CAACC,GAAP,KAAeC,SAAnB,EAA8B;AAC5B,UAAM,IAAIC,KAAJ,CAAU,eAAV,CAAN;AACD;;AAED,QAAMF,GAAG,GAAGG,QAAQ,CAACJ,MAAM,CAACC,GAAR,CAApB;AAEA,QAAM,CAACI,OAAD,EAAUC,eAAV,IAA6BnB,UAAU,CAACU,UAAD,CAA7C;AACA,QAAMU,WAAW,GAAGF,OAAO,CAACG,KAAR,CAAcP,GAAd,CAApB;AAEA,QAAMQ,OAAO,GAAGd,UAAU,EAA1B;;AAEA,QAAMe,UAAU,GAAG,MAAM;AACvBD,IAAAA,OAAO,CAACE,MAAR;AACD,GAFD;;AAIA,SACE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,CADF,CADF,EASE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,YAAY,EAAEJ,WADhB;AAEE,IAAA,WAAW,EAAC,aAFd;AAGE,IAAA,WAAW,EAAC,WAHd;AAIE,IAAA,SAAS,EAAEK,IAAI,IAAI;AACjBN,MAAAA,eAAe,CAAC;AACdO,QAAAA,MAAM,EAAE;AACNC,UAAAA,IAAI,EAAE,QADA;AAENC,UAAAA,EAAE,EAAEd,GAFE;AAGNe,UAAAA,EAAE,EAAEJ;AAHE;AADM,OAAD,CAAf;AAOAF,MAAAA,UAAU;AACX,KAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATF,CADF;AA6BD,CA9CD;;AAgDA,eAAeX,UAAf","sourcesContent":["import React, { useContext } from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonContent,\r\n  IonButtons,\r\n  IonBackButton\r\n} from \"@ionic/react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AppContext } from \"../contexts/AppContext\";\r\nimport NameSetter from \"../components/NameSetter\";\r\n\r\ntype UpdateParams = {\r\n  idx?: string;\r\n};\r\n\r\nconst UpdatePage: React.FC = () => {\r\n  const params: UpdateParams = useParams();\r\n  if (params.idx === undefined) {\r\n    throw new Error(\"cade o indice\");\r\n  }\r\n\r\n  const idx = parseInt(params.idx);\r\n\r\n  const [appData, dispatchAppData] = useContext(AppContext);\r\n  const initialName = appData.names[idx];\r\n\r\n  const history = useHistory();\r\n\r\n  const handleBack = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <IonPage id=\"update\">\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonButtons slot=\"start\">\r\n            <IonBackButton />\r\n          </IonButtons>\r\n          <IonTitle>Atualizar</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n      <IonContent>\r\n        <NameSetter\r\n          initialValue={initialName}\r\n          placeholder=\"Mude o nome\"\r\n          buttonTitle=\"Atualizar\"\r\n          onNameSet={name => {\r\n            dispatchAppData({\r\n              action: {\r\n                type: \"update\",\r\n                at: idx,\r\n                to: name\r\n              }\r\n            });\r\n            handleBack();\r\n          }}\r\n        />\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default UpdatePage;\r\n"]},"metadata":{},"sourceType":"module"}