{"ast":null,"code":"import _slicedToArray from\"/home/mani/projetos/hybrid-fib/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext}from\"react\";import{IonPage,IonHeader,IonToolbar,IonTitle,IonContent,IonButtons,IonBackButton}from\"@ionic/react\";import{useHistory,useParams}from\"react-router\";import{AppContext}from\"../contexts/AppContext\";import NameSetter from\"../components/NameSetter\";var UpdatePage=function UpdatePage(){var params=useParams();if(params.idx===undefined){throw new Error(\"cade o indice\");}var idx=parseInt(params.idx);var _useContext=useContext(AppContext),_useContext2=_slicedToArray(_useContext,2),appData=_useContext2[0],dispatchAppData=_useContext2[1];var initialName=appData.names[idx];var history=useHistory();var handleBack=function handleBack(){history.goBack();};return React.createElement(IonPage,{id:\"update\"},React.createElement(IonHeader,null,React.createElement(IonToolbar,null,React.createElement(IonButtons,{slot:\"start\"},React.createElement(IonBackButton,null)),React.createElement(IonTitle,null,\"Atualizar\"))),React.createElement(IonContent,null,React.createElement(NameSetter,{initialValue:initialName,placeholder:\"Mude o nome\",buttonTitle:\"Atualizar\",onNameSet:function onNameSet(name){dispatchAppData({action:{type:\"update\",at:idx,to:name}});handleBack();}})));};export default UpdatePage;","map":{"version":3,"sources":["/home/mani/projetos/hybrid-fib/src/pages/UpdatePage.tsx"],"names":["React","useContext","IonPage","IonHeader","IonToolbar","IonTitle","IonContent","IonButtons","IonBackButton","useHistory","useParams","AppContext","NameSetter","UpdatePage","params","idx","undefined","Error","parseInt","appData","dispatchAppData","initialName","names","history","handleBack","goBack","name","action","type","at","to"],"mappings":"iHAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OACEC,OADF,CAEEC,SAFF,CAGEC,UAHF,CAIEC,QAJF,CAKEC,UALF,CAMEC,UANF,CAOEC,aAPF,KAQO,cARP,CASA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,cAAtC,CACA,OAASC,UAAT,KAA2B,wBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAMA,GAAMC,CAAAA,UAAoB,CAAG,QAAvBA,CAAAA,UAAuB,EAAM,CACjC,GAAMC,CAAAA,MAAoB,CAAGJ,SAAS,EAAtC,CACA,GAAII,MAAM,CAACC,GAAP,GAAeC,SAAnB,CAA8B,CAC5B,KAAM,IAAIC,CAAAA,KAAJ,CAAU,eAAV,CAAN,CACD,CAED,GAAMF,CAAAA,GAAG,CAAGG,QAAQ,CAACJ,MAAM,CAACC,GAAR,CAApB,CANiC,gBAQEd,UAAU,CAACU,UAAD,CARZ,4CAQ1BQ,OAR0B,iBAQjBC,eARiB,iBASjC,GAAMC,CAAAA,WAAW,CAAGF,OAAO,CAACG,KAAR,CAAcP,GAAd,CAApB,CAEA,GAAMQ,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CAEA,GAAMe,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBD,OAAO,CAACE,MAAR,GACD,CAFD,CAIA,MACE,qBAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,EACE,oBAAC,SAAD,MACE,oBAAC,UAAD,MACE,oBAAC,UAAD,EAAY,IAAI,CAAC,OAAjB,EACE,oBAAC,aAAD,MADF,CADF,CAIE,oBAAC,QAAD,kBAJF,CADF,CADF,CASE,oBAAC,UAAD,MACE,oBAAC,UAAD,EACE,YAAY,CAAEJ,WADhB,CAEE,WAAW,CAAC,aAFd,CAGE,WAAW,CAAC,WAHd,CAIE,SAAS,CAAE,mBAAAK,IAAI,CAAI,CACjBN,eAAe,CAAC,CACdO,MAAM,CAAE,CACNC,IAAI,CAAE,QADA,CAENC,EAAE,CAAEd,GAFE,CAGNe,EAAE,CAAEJ,IAHE,CADM,CAAD,CAAf,CAOAF,UAAU,GACX,CAbH,EADF,CATF,CADF,CA6BD,CA9CD,CAgDA,cAAeX,CAAAA,UAAf","sourcesContent":["import React, { useContext } from \"react\";\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonContent,\r\n  IonButtons,\r\n  IonBackButton\r\n} from \"@ionic/react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { AppContext } from \"../contexts/AppContext\";\r\nimport NameSetter from \"../components/NameSetter\";\r\n\r\ntype UpdateParams = {\r\n  idx?: string;\r\n};\r\n\r\nconst UpdatePage: React.FC = () => {\r\n  const params: UpdateParams = useParams();\r\n  if (params.idx === undefined) {\r\n    throw new Error(\"cade o indice\");\r\n  }\r\n\r\n  const idx = parseInt(params.idx);\r\n\r\n  const [appData, dispatchAppData] = useContext(AppContext);\r\n  const initialName = appData.names[idx];\r\n\r\n  const history = useHistory();\r\n\r\n  const handleBack = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <IonPage id=\"update\">\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonButtons slot=\"start\">\r\n            <IonBackButton />\r\n          </IonButtons>\r\n          <IonTitle>Atualizar</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n      <IonContent>\r\n        <NameSetter\r\n          initialValue={initialName}\r\n          placeholder=\"Mude o nome\"\r\n          buttonTitle=\"Atualizar\"\r\n          onNameSet={name => {\r\n            dispatchAppData({\r\n              action: {\r\n                type: \"update\",\r\n                at: idx,\r\n                to: name\r\n              }\r\n            });\r\n            handleBack();\r\n          }}\r\n        />\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default UpdatePage;\r\n"]},"metadata":{},"sourceType":"module"}